# ---------------------------------------------------------------------------
# PostgreSQL — основная БД сервиса
# ---------------------------------------------------------------------------
APP_CONFIG__DB__URL=postgresql+asyncpg://tender_api:<password>@db01.internal:5432/tender_backend
APP_CONFIG__DB__ECHO=false
APP_CONFIG__DB__ECHO_POOL=false
APP_CONFIG__DB__POOL_SIZE=20
APP_CONFIG__DB__MAX_OVERFLOW=5
APP_CONFIG__DB__USE_PGBOUNCER=true

# ---------------------------------------------------------------------------
# API / CORS — глобальные параметры REST API
# ---------------------------------------------------------------------------
APP_CONFIG__API__PREFIX=/api/v1
APP_CONFIG__API__CONFIG__DEFAULT_TENDER_STATUS=new
APP_CONFIG__API__DEFAULT_LIMIT=20
APP_CONFIG__API__MAX_LIMIT=200
APP_CONFIG__CORS__ENABLED=false
APP_CONFIG__CORS__ORIGINS=["https://frontend.example.com"]

# ---------------------------------------------------------------------------
# Server — uvicorn binding
# ---------------------------------------------------------------------------
APP_CONFIG__RUN__HOST=0.0.0.0
APP_CONFIG__RUN__PORT=8000

# ---------------------------------------------------------------------------
# Logging — уровни и путь к логам
# ---------------------------------------------------------------------------
APP_CONFIG__LOG__LEVEL=INFO
APP_CONFIG__LOG__RETENTION_DAYS=30
APP_CONFIG__LOG__SA_LEVEL=WARNING
APP_CONFIG__LOG__FILE=/var/log/tender_backend/app.log

# ---------------------------------------------------------------------------
# LDAP / AD — авторизация сотрудников
# ---------------------------------------------------------------------------
APP_CONFIG__LDAP__SERVER_URI=ldap://dc01.internal:389
APP_CONFIG__LDAP__BASE_DN=DC=emk,DC=loc
APP_CONFIG__LDAP__DOMAIN=EMK
APP_CONFIG__LDAP__SERVICE_USER=EMK\\service.account
APP_CONFIG__LDAP__SERVICE_PASS=<ldap_password>
APP_CONFIG__LDAP__CONNECT_TIMEOUT=5
APP_CONFIG__LDAP__SEARCH_TIMEOUT=5
APP_CONFIG__LDAP__GROUPS__ADMIN=CN=APP_TENDER_ADMIN,OU=APP_TENDER,OU=SERVERS,DC=emk,DC=loc
APP_CONFIG__LDAP__GROUPS__EDITOR=CN=APP_TENDER_EDIT,OU=APP_TENDER,OU=SERVERS,DC=emk,DC=loc
APP_CONFIG__LDAP__GROUPS__VIEWER=CN=APP_TENDER_VIEW,OU=APP_TENDER,OU=SERVERS,DC=emk,DC=loc

# ---------------------------------------------------------------------------
# JWT — параметры подписи токенов
# ---------------------------------------------------------------------------
APP_CONFIG__JWT__SECRET=<jwt_secret>
APP_CONFIG__JWT__ALGORITHM=HS256
APP_CONFIG__JWT__ACCESS_TOKEN_TTL_HOURS=2
APP_CONFIG__JWT__REFRESH_TOKEN_TTL_DAYS=30
APP_CONFIG__JWT__ISSUER=tender-backend
APP_CONFIG__JWT__AUDIENCE=tender-clients
